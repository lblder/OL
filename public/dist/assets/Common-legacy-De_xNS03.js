System.register(["./index-legacy-VniDFTuT.js","./useTitle-legacy-CH79vzdE.js","./ResponsiveGrid-legacy-BEd-6pWF.js","./index-legacy-DtNGCokM.js"],function(e,t){"use strict";var n,r,g,l,a,u,c,i,s,o,d,h,y,b,p,k,f,m,v,C,E,w,D,$,A,R,N,O,T,L,x,_,I,P,S,Y,j,B,z,M,F,G,J,K;return{setters:[e=>{n=e.o,r=e.S,g=e.bw,l=e.W,a=e.y,u=e.au,c=e.M,i=e.N,s=e.bg,o=e.bI,d=e.bO,h=e.bx,y=e.bz,b=e.bA,p=e.bB,k=e.bC,f=e.bD,m=e.bE,v=e.F,C=e.bF,E=e.bG,w=e.bH,D=e.az,$=e.cJ,A=e.bJ,R=e.u,N=e.aZ,O=e.bi,T=e.bN,L=e.cK,x=e.K,_=e.cL,I=e.q,P=e.bl,S=e.bh,Y=e.ac,j=e.aM,B=e.cM,z=e.X,M=e.cN},e=>{F=e.b},e=>{G=e.T,J=e.R},e=>{K=e.b}],execute:function(){var t=(e=>(e[e.PUBLIC=0]="PUBLIC",e[e.PRIVATE=1]="PRIVATE",e[e.READONLY=2]="READONLY",e[e.DEPRECATED=3]="DEPRECATED",e))(t||{});const U=e=>{const R=a();return n(A,{get w(){return e.w??"100%"},display:"flex",flexDirection:"column",get children(){return[n(r,{get when(){return!e.hideLabel},get children(){return n(g,{get for(){return e.key},display:"flex",alignItems:"center",get children(){return[l(()=>R(`settings.${e.key}`)),n(r,{get when(){return e.flag===t.DEPRECATED},get children(){return n(u,{ml:"$2",as:K,boxSize:"$5",color:"$danger9",verticalAlign:"middle",cursor:"pointer",onClick:()=>{e.onDelete?.()}})}})]}})}}),n(c,{get fallback(){return n(D,{get children(){return R("settings_other.unknown_type")}})},get children(){return[n(i,{get when(){return[G.String,G.Number].includes(e.type)},get children(){return n(s,{get type(){return e.type===G.Number?"number":""},get id(){return e.key},get value(){return e.value},onInput:t=>e.onChange?.(t.currentTarget.value),get readOnly(){return e.flag===t.READONLY}})}}),n(i,{get when(){return e.type===G.Bool},get children(){return n(o,{get id(){return e.key},get checked(){return"true"===e.value},onChange:t=>e.onChange?.(t.currentTarget?.checked?"true":"false"),get readOnly(){return e.flag===t.READONLY}})}}),n(i,{get when(){return e.type===G.Text},get children(){return n(d,{get id(){return e.key},get value(){return e.value},onChange:t=>e.onChange?.(t.currentTarget.value),get readOnly(){return e.flag===t.READONLY}})}}),n(i,{get when(){return e.type===G.Select},get children(){return n(h,{get id(){return e.key},get value(){return e.value},onChange:t=>e.onChange?.(t),get readOnly(){return e.flag===t.READONLY},get children(){return[n(y,{get children(){return[n(b,{get children(){return R("global.choose")}}),n(p,{}),n(k,{})]}}),n(f,{get children(){return n(m,{get children(){return n(v,{get each(){return e.options?.split(",")},children:t=>n(C,{value:t,get children(){return[n(E,{get children(){return R(`settings.${e.key}s.${t}`)}}),n(w,{})]}})})}})}})]}})}})]}}),n($,{get children(){return l(()=>!!e.help)()?R(`settings.${e.key}-tips`):""}})]}})};e("default",e=>{const t=a(),{pathname:r}=R();F(`manage.sidemenu.${r().split("/").pop()}`);const[g,l]=N(()=>O.get(`/admin/setting/list?group=${e.group}`)),[u,c]=T([]),i=async()=>{const e=await l();P(e,c)};i();const[s,o]=N(()=>O.post("/admin/setting/save",L(u))),[d,h]=N(()=>O.post(`/admin/setting/default?group=${e.group}`)),[y,b]=x(!1);return n(z,{w:"$full",alignItems:"start",spacing:"$2",get children(){return[n(J,{get children(){return n(_,{each:u,children:e=>n(U,I(e,{onChange:t=>{c(t=>e().key===t.key,"value",t)},onDelete:async()=>{b(!0);const n=await O.post(`/admin/setting/delete?key=${e().key}`);b(!1),P(n,()=>{S.success(t("global.delete_success")),i()})}}))})}}),n(Y,{spacing:"$2",get children(){return[n(j,{colorScheme:"accent",onClick:i,get loading(){return g()||y()||d()},get children(){return t("global.refresh")}}),n(j,{get loading(){return s()},onClick:async()=>{const e=await o();P(e,async()=>{S.success(t("global.save_success")),B(await O.get("/public/settings"),M)})},get children(){return t("global.save")}}),n(j,{colorScheme:"warning",get loading(){return g()||y()||d()},onClick:async()=>{const e=await h();P(e,e=>{S.info(t("manage.load_default_setting_success")),c(e)})},get children(){return t("manage.load_default_setting")}})]}})]}})})}}});

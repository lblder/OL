System.register(["./index-legacy-VniDFTuT.js","./useTitle-legacy-CH79vzdE.js"],function(e,r){"use strict";var s,n,t,a,u,o,d,i,l,c,p,g,w,_,f;return{setters:[e=>{s=e.K,n=e.aZ,t=e.bi,a=e.ag,u=e.o,o=e.bV,d=e.y,i=e.X,l=e.bJ,c=e.bw,p=e.bg,g=e.aM,w=e.bh,_=e.bl},e=>{f=e.b}],execute:function(){e("default",()=>{f("tenant.sidemenu.profile");const e=d(),[r,h]=s(""),[m,v]=s(""),[b,y]=s(""),[q,I]=n(()=>t.post("/me/update",{username:a().username,old_password:r(),password:m()})),T=async()=>{if(!r())return void w.warning(e("users.old_password_required"));if(!m())return void w.warning(e("users.new_password_required"));if(m()!==b())return void w.warning(e("users.confirm_password_not_same"));const s=await I();_(s,()=>{w.success(e("users.update_profile_success")),h(""),v(""),y("")})};return u(i,{w:"$full",spacing:"$4",alignItems:"start",get children(){return[u(o,{get children(){return e("tenant.profile.change_password")}}),u(i,{w:"$full",spacing:"$4",alignItems:"start",get children(){return[u(l,{required:!0,get children(){return[u(c,{for:"old_password",get children(){return e("users.old_password")}}),u(p,{id:"old_password",type:"password",placeholder:"********",get value(){return r()},onInput:e=>h(e.currentTarget.value)})]}}),u(l,{required:!0,get children(){return[u(c,{for:"new_password",get children(){return e("users.new_password")}}),u(p,{id:"new_password",type:"password",placeholder:"********",get value(){return m()},onInput:e=>v(e.currentTarget.value)})]}}),u(l,{required:!0,get children(){return[u(c,{for:"confirm_password",get children(){return e("users.confirm_password")}}),u(p,{id:"confirm_password",type:"password",placeholder:"********",get value(){return b()},onInput:e=>y(e.currentTarget.value)})]}}),u(g,{get loading(){return q()},onClick:T,colorScheme:"info",get children(){return e("global.save")}})]}})]}})})}}});

import{P as o,a9 as c,ab as d,K as p,o as r,a2 as a,ad as s,c7 as u,c8 as m,a5 as v}from"./index-CsB5zT4W.js";import{V as g}from"./video_box-C2Dic8iL.js";import{O as w}from"./icon-BfaWsS4s.js";import{V as y,C as f,E as h}from"./view360.min-BonvbQYV.js";import"./artplayer-C5-Hz-Y-.js";import"./index-DBnL0RpI.js";import"./index-Bc2gP8al.js";var B=s("<canvas class=view360-canvas>"),b=s("<video id=view360-video playsinline crossorigin=anonymous style=display:none;>");const A=()=>{let i=o.objs.filter(e=>e.type===w.VIDEO);i.length===0&&(i=[o.obj]);let t;c(()=>{const e=document.getElementById("view360-container"),n=document.getElementById("view360-video");e&&n&&(t=new y(e,{projection:new h({src:n,video:{autoplay:v("video_autoplay")}}),plugins:[new f({pieView:{order:0},gyroButton:{position:"top-right",order:1},vrButton:{position:"top-right",order:2}})]}))}),d(()=>t==null?void 0:t.destroy());const[j,l]=p(!1);return r(g,{onAutoNextChange:l,get children(){return r(a,{w:"$full",h:"60vh",id:"video360-player",get children(){return r(a,{w:"100%",h:"100%",id:"view360-container",className:"view360-container",get children(){return[B(),(()=>{var e=b();return u(()=>m(e,"src",o.raw_url)),e})()]}})}})}})};export{A as default};

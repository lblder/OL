import{P as y,K as P,aF as V,J as A,ab as T,o as e,cE as M,a2 as u,ac as w,V as v,y as N,aC as d,ai as a,X as D,S as f,g as L,W as m,d$ as E,e0 as F,e1 as S,e2 as B,ar as W,ah as K,aM as O,an as R,e3 as z,e4 as _,F as $,ao as C,ad as Z,e5 as j,aK as G,bg as H}from"./index-CsB5zT4W.js";import{u as X,V as J,a as U,b as q,A as k,c as Q,d as Y,e as ee,f as te,g as re,h as ne,i as ie}from"./index-D0QtHVWD.js";var oe=Z("<form>");const ge=()=>{const{viewerRef:t,pdfSlickStore:r,PDFSlickViewer:s}=X(y.raw_url),[l,c]=P(1),{isOpen:g,onToggle:b,onClose:p}=V(),h=i=>{var x;i.preventDefault();const o=parseInt(l()+"");Number.isInteger(o)&&o>0&&o<=r.numPages?(x=r.pdfSlick)==null||x.linkService.goToPage(o):c(r.pageNumber)},n=({pageNumber:i})=>c(i);return A(()=>{r.pdfSlick&&r.pdfSlick.on("pagechanging",n)}),T(()=>{r.pdfSlick&&r.pdfSlick.off("pagechanging",n)}),e(u,{w:"$full",h:"70vh",pos:"relative",display:"flex",get children(){return[e(ae,{store:r,get isOpen(){return g()},onClose:p}),e(M,{w:"$full",h:"$full",pos:"relative",flex:1,get children(){return[e(ue,{store:r,get isOpen(){return g()},onToggle:b,wantedPageNumber:l,onPageNumberChange:c,onPageNumberSubmit:h}),e(s,{store:r,viewerRef:t})]}})]}})},le=t=>{const[r,s]=P(!0),l=()=>t.item.items&&t.item.items.length>0,c=()=>{var g;t.item.dest&&((g=t.store.pdfSlick)!=null&&g.linkService)&&t.store.pdfSlick.linkService.goToDestination(t.item.dest)};return e(u,{mb:"$1",get children(){return[e(w,{spacing:"$1",alignItems:"center",get children(){return[e(f,{get when(){return l()},get fallback(){return e(u,{w:"16px"})},get children(){return e(a,{size:"xs",variant:"ghost","aria-label":"Toggle",get icon(){return m(()=>!!r())()?e(ne,{}):e(ie,{})},minW:"16px",h:"16px",onClick:()=>s(!r())})}}),e(O,{variant:"ghost",size:"sm",justifyContent:"flex-start",flex:1,fontSize:"$sm",fontWeight:"$normal",py:"$1",px:"$2",h:"auto",minH:"$6",textAlign:"left",overflow:"hidden",onClick:c,_hover:{backgroundColor:"$neutral3"},get title(){return t.item.title},color:"$neutral12",get children(){return t.item.title}})]}}),e(f,{get when(){return m(()=>!!l())()&&r()},get children(){return e(u,{get pl(){return"".concat((t.level+1)*16,"px")},get children(){return e(I,{get items(){return t.item.items},get level(){return t.level+1},get store(){return t.store}})}})}})]}})},I=t=>!t.items||t.items.length===0?null:e($,{get each(){return t.items},children:r=>e(le,{item:r,get level(){return t.level||0},get store(){return t.store}})}),ae=t=>{const r=N();return e(f,{get when(){return t.isOpen},get children(){return e(u,{w:"280px",h:"$full",bgColor:"$neutral1",borderRight:"1px solid $neutral6",display:"flex",flexDirection:"column",transition:"all 0.3s ease",zIndex:"10",get children(){return[e(w,{spacing:"$2",p:"$3",borderBottom:"1px solid $neutral6",bgColor:"$neutral2",get children(){return[e(v,{fontWeight:"$semibold",color:"$neutral12",get children(){return r("home.preview.pdf.document_outline")}}),e(u,{flex:1}),e(d,{withArrow:!0,get label(){return r("home.preview.pdf.close_sidebar")},get children(){return e(a,{size:"sm",get"aria-label"(){return r("home.preview.pdf.close_sidebar")},get icon(){return e(J,{})},get onClick(){return t.onClose}})}})]}}),e(u,{flex:1,overflow:"auto",p:"$3",get children(){return e(D,{spacing:"$2",alignItems:"stretch",get children(){return e(f,{get when(){return t.store.documentOutline&&t.store.documentOutline.length>0},get fallback(){return e(v,{size:"sm",color:"$neutral11",textAlign:"center",mt:"$4",get children(){return r("home.preview.pdf.no_outline")}})},get children(){return e(I,{get items(){return t.store.documentOutline},get store(){return t.store}})}})}})}})]}})}})},ue=t=>{const r=N();let s;const l=[["auto",r("home.preview.pdf.zoom_auto")],["page-actual",r("home.preview.pdf.zoom_actual")],["page-fit",r("home.preview.pdf.zoom_fit")],["page-width",r("home.preview.pdf.zoom_width")]],c=[[.5,r("home.preview.pdf.zoom_50")],[.75,r("home.preview.pdf.zoom_75")],[1,r("home.preview.pdf.zoom_100")],[1.25,r("home.preview.pdf.zoom_125")],[1.5,r("home.preview.pdf.zoom_150")],[2,r("home.preview.pdf.zoom_200")]],g=L(()=>{if(t.store.scaleValue){const n=l.find(([i])=>i===t.store.scaleValue);if(n)return n[1]}return"".concat(Math.floor(t.store.scale*100),"%")}),b=n=>{t.store.pdfSlick&&(t.store.pdfSlick.currentScaleValue=n)},p=n=>{t.store.pdfSlick&&(t.store.pdfSlick.currentScale=n)},h=()=>t.store.annotationEditorMode===k.INK;return e(u,{pos:"absolute",left:"50%",transform:"translateX(-50%)",display:"flex",zIndex:"1",css:{top:"$2",bottom:"auto","@sm":{top:"auto",bottom:"$2"}},get children(){return e(w,{spacing:"$4",w:"auto",p:"$2",rounded:"$lg",shadow:"$lg",bgColor:"$neutral1",opacity:"0.7",transition:"all 0.2s ease-in-out",_hover:{opacity:"1"},css:{scale:"0.7","@sm":{scale:"1"}},get children(){return[e(f,{get when(){return t.store.documentOutline&&t.store.documentOutline.length>0},get children(){return e(d,{withArrow:!0,get label(){return r("home.preview.pdf.toggle_sidebar")},get children(){return e(a,{size:"sm",colorScheme:"neutral",get"aria-label"(){return r("home.preview.pdf.toggle_sidebar")},get icon(){return m(()=>!!t.isOpen)()?e(U,{}):e(q,{})},get onClick(){return t.onToggle}})}})}}),e(d,{withArrow:!0,get label(){return r("home.preview.pdf.toggle_pen")},get children(){return e(a,{size:"sm",get"aria-label"(){return r("home.preview.pdf.toggle_pen")},get colorScheme(){return h()&&"primary"||"neutral"},onClick:()=>{var i,o;const n=h()?k.NONE:k.INK;(i=t.store.pdfSlick)==null||i.setAnnotationEditorMode(n),(o=t.store.pdfSlick)==null||o.setAnnotationEditorParams({type:Q.INK_COLOR,value:"#ff0000"})},get icon(){return m(()=>!!h())()&&e(E,{})||e(F,{})}})}}),e(S,{orientation:"vertical",h:"24px"}),e(B,{colorScheme:"neutral",attached:!0,get children(){return[e(d,{withArrow:!0,get label(){return r("home.preview.pdf.zoom_out")},get children(){return e(a,{size:"sm",get"aria-label"(){return r("home.preview.pdf.zoom_out")},get disabled(){return!t.store.pdfSlick||t.store.scale<=.25},onClick:()=>{var n,i;return(i=(n=t.store.pdfSlick)==null?void 0:n.viewer)==null?void 0:i.decreaseScale()},get icon(){return e(Y,{})}})}}),e(W,{motionPreset:"scale-bottom-left",get children(){return[e(K,{as:O,size:"sm",minW:"60px",get children(){return e(v,{size:"sm",get children(){return m(()=>!!t.store.pdfSlick)()?g():r("home.preview.pdf.loading")}})}}),e(R,{get children(){return[e(z,{get children(){return[e(_,{get children(){return r("home.preview.pdf.zoom_presets")}}),e($,{each:l,children:n=>e(C,{onSelect:()=>b(n[0]),get children(){return n[1]}})})]}}),e(S,{role:"presentation",my:"$1"}),e(z,{get children(){return[e(_,{get children(){return r("home.preview.pdf.zoom_levels")}}),e($,{each:c,children:n=>e(C,{onSelect:()=>p(n[0]),get children(){return n[1]}})})]}})]}})]}}),e(d,{withArrow:!0,get label(){return r("home.preview.pdf.zoom_in")},get children(){return e(a,{size:"sm",get"aria-label"(){return r("home.preview.pdf.zoom_in")},get disabled(){return!t.store.pdfSlick||t.store.scale>=5},onClick:()=>{var n,i;return(i=(n=t.store.pdfSlick)==null?void 0:n.viewer)==null?void 0:i.increaseScale()},get icon(){return e(ee,{})}})}})]}}),e(S,{orientation:"vertical",h:"24px"}),e(w,{spacing:"$2",alignItems:"center",get children(){return[(()=>{var n=oe();return j(n,"submit",t.onPageNumberSubmit),G(n,e(H,{size:"sm",ref(i){var o=s;typeof o=="function"?o(i):s=i},type:"text",get value(){return t.wantedPageNumber()},w:"50px",textAlign:"center",onFocus:()=>s.select(),onChange:i=>t.onPageNumberChange(i.currentTarget.value)})),n})(),e(v,{size:"sm",minW:"$full",get children(){return["/ ",m(()=>t.store.numPages)]}})]}}),e(d,{withArrow:!0,get label(){return r("home.preview.pdf.prev_page")},get children(){return e(a,{size:"sm",get"aria-label"(){return r("home.preview.pdf.prev_page")},colorScheme:"neutral",get disabled(){return t.store.pageNumber<=1},onClick:()=>{var n,i;return(i=(n=t.store.pdfSlick)==null?void 0:n.viewer)==null?void 0:i.previousPage()},get icon(){return e(te,{})}})}}),e(d,{withArrow:!0,get label(){return r("home.preview.pdf.next_page")},get children(){return e(a,{size:"sm",get"aria-label"(){return r("home.preview.pdf.next_page")},colorScheme:"neutral",get disabled(){return!t.store.pdfSlick||t.store.pageNumber>=t.store.numPages},onClick:()=>{var n,i;return(i=(n=t.store.pdfSlick)==null?void 0:n.viewer)==null?void 0:i.nextPage()},get icon(){return e(re,{})}})}})]}})}})};export{ge as default};

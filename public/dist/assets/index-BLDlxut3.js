const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Common-200udEga.js","assets/index-CsB5zT4W.js","assets/index-DYLAoZjS.css","assets/useTitle-C7kyrev7.js","assets/ResponsiveGrid-Bq1HJ3RA.js","assets/index-DlLE0hg-.js","assets/Profile-CwvL34nf.js","assets/index-DUExJ8y_.js","assets/webauthn-json.browser-ponyfill-CVZeZdny.js","assets/PublicKeys-DeSSzoMK.js","assets/Users-H2dtEYWl.js","assets/DeletePopover-CW1rdOI4.js","assets/Storages-DeP59n7o.js","assets/certificate-AgItiv2d.js","assets/index-Bc2gP8al.js","assets/certificate-BkOvkjL-.js","assets/Paginator-CZdTa2_8.js","assets/system-monitoring-DrEm_oTJ.js","assets/network-control-YZFXE7Mk.js","assets/AddOrEdit-CcNfg5j_.js","assets/AddOrEdit-5ARcXlrb.js","assets/share-2qqjNftT.js","assets/AddOrEdit-C0uxyP74.js","assets/FolderTree-s4yEnMk2.js","assets/AddOrEdit-CE9Xwdaq.js","assets/2fa-BJVVkm9P.js","assets/Messenger-DcNuVQAK.js"])))=>i.map(i=>d[i]);
import{o as e,F as D,X as y,g as S,af as w,ag as v,bT as R,N as T,M as x,u as _,K as M,bU as p,ac as l,S as m,au as h,bV as g,y as d,D as A,a2 as i,C as B,A as W,T as r,bW as I,bX as z,Y as o,ai as C,aF as F,aZ as H,bY as U,bv as Y,bn as j,bo as q,bp as N,bq as G,br as X,az as f,bt as O,bu as L,H as P,bl as Z,bZ as K,bh as J,bi as Q,b_ as ee,b$ as te,c0 as ne}from"./index-CsB5zT4W.js";import{b as re,a as oe}from"./useTitle-C7kyrev7.js";import{a as ae}from"./index-DlLE0hg-.js";import{l as ie,A as se,m as ce,n as le,o as ue}from"./index-DUExJ8y_.js";const ge=t=>{const n=S(()=>{if(!w.is_admin(v())){if(t.role===void 0)return!1;if(t.role===R.GENERAL&&!w.is_general(v()))return!1}return!0});return e(x,{get fallback(){return e(de,t)},get children(){return[e(T,{get when(){return!n()},children:null}),e(T,{get when(){return t.children},get children(){return e(me,t)}})]}})},de=t=>{const{pathname:n}=_(),a=d(),s=()=>n()===t.to;return e(se,{get cancelBase(){return t.to.startsWith("http")},display:"flex",as:B,get href(){return t.to},onClick:c=>{var E;if(k(),t.refresh){(E=c.stopPropagation)==null||E.call(c);let u=t.to;u.startsWith("http")||(u=W(u)),window.open(u,"_self")}},w:"$full",alignItems:"center",get _hover(){return{bgColor:s()?"$info4":A(),textDecoration:"none"}},px:"$2",py:"$1_5",rounded:"$md",cursor:"pointer",get bgColor(){return s()?"$info4":""},get color(){return s()?"$info11":""},get external(){return t.external},get children(){return[e(m,{get when(){return t.icon},get children(){return e(h,{mr:"$2",get as(){return t.icon}})}}),e(g,{get children(){return a(t.title)}})]}})},me=t=>{const{pathname:n}=_(),[a,s]=M(n().includes(t.to)),c=d();return e(i,{w:"$full",get children(){return[e(p,{justifyContent:"space-between",onClick:()=>{s(!a())},w:"$full",alignItems:"center",get _hover(){return{bgColor:A()}},px:"$2",py:"$1_5",rounded:"$md",cursor:"pointer",get children(){return[e(l,{get children(){return[e(m,{get when(){return t.icon},get children(){return e(h,{mr:"$2",get as(){return t.icon}})}}),e(g,{get children(){return c(t.title)}})]}}),e(h,{as:ie,get transform(){return a()?"rotate(90deg)":"none"},transition:"transform 0.2s"})]}}),e(m,{get when(){return a()},get children(){return e(i,{pl:"$2",get children(){return e($,{get items(){return t.children}})}})}})]}})},$=t=>e(y,{p:"$2",w:"$full",color:"$neutral11",spacing:"$1",get children(){return e(D,{get each(){return t.items},children:n=>e(ge,n)})}});r(()=>o(()=>import("./Common-200udEga.js"),__vite__mapDeps([0,1,2,3,4,5])));const b=[{title:"manage.sidemenu.profile",icon:I,to:"/@manage",role:R.GUEST,component:r(()=>o(()=>import("./Profile-CwvL34nf.js"),__vite__mapDeps([6,1,2,3,7,8,9])))},{title:"manage.sidemenu.users",icon:z,to:"/@manage/users",component:r(()=>o(()=>import("./Users-H2dtEYWl.js"),__vite__mapDeps([10,1,2,3,11])))},{title:"manage.sidemenu.storages",icon:ce,to:"/@manage/storages",component:r(()=>o(()=>import("./Storages-DeP59n7o.js"),__vite__mapDeps([12,1,2,3,11])))},{title:"manage.sidemenu.certificate",icon:I,to:"/@manage/certificate",component:r(()=>o(()=>import("./certificate-AgItiv2d.js"),__vite__mapDeps([13,1,2,3,7,14,15,16])))},{title:"manage.sidemenu.system-monitoring",icon:le,to:"/@manage/system-monitoring",component:r(()=>o(()=>import("./system-monitoring-DrEm_oTJ.js"),__vite__mapDeps([17,1,2,3])))},{title:"manage.sidemenu.network-control",icon:ue,to:"/@manage/network-control",component:r(()=>o(()=>import("./network-control-YZFXE7Mk.js"),__vite__mapDeps([18,1,2,3,7])))}],{isOpen:he,onOpen:_e,onClose:k}=F(),[pe,fe]=H(()=>Q.get("/auth/logout")),$e=()=>{const t=d(),{to:n}=_(),a=async()=>{Z(await fe(),()=>{K(),J.success(t("manage.logout_success")),n("/@login?redirect=".concat(encodeURIComponent(location.pathname)))})};return e(i,{as:"header",position:"sticky",top:"0",left:"0",right:"0",zIndex:"$sticky",height:"64px",flexShrink:0,shadow:"$md",p:"$4",get bgColor(){return P("$background","$neutral2")()},get children(){return[e(p,{alignItems:"center",justifyContent:"space-between",h:"$full",get children(){return[e(l,{spacing:"$2",get children(){return[e(C,{"aria-label":"menu",get icon(){return e(ae,{})},display:{"@sm":"none"},onClick:_e,size:"sm"}),e(g,{fontSize:"$xl",color:"$info9",cursor:"pointer",onClick:()=>{n("/@manage")},get children(){return t("manage.title")}})]}}),e(l,{spacing:"$1",get children(){return e(C,{"aria-label":"logout",get icon(){return e(U,{})},get loading(){return pe()},onClick:a,size:"sm"})}})]}}),e(Y,{get opened(){return he()},placement:"left",onClose:k,get children(){return[e(j,{}),e(q,{get children(){return[e(N,{}),e(G,{color:"$info9",get children(){return t("manage.title")}}),e(X,{get children(){return[e($,{items:b}),e(f,{get children(){return e(l,{spacing:"$4",p:"$2",color:"$neutral11",get children(){return[e(O,{}),e(L,{})]}})}})]}})]}})]}})]}})},be=[{to:"/storages/add",component:r(()=>o(()=>import("./AddOrEdit-CcNfg5j_.js"),__vite__mapDeps([19,1,2,4])))},{to:"/storages/edit/:id",component:r(()=>o(()=>import("./AddOrEdit-CcNfg5j_.js"),__vite__mapDeps([19,1,2,4])))},{to:"/shares/add",component:r(()=>o(()=>import("./AddOrEdit-5ARcXlrb.js"),__vite__mapDeps([20,1,2,21,4,7])))},{to:"/shares/edit/:id",component:r(()=>o(()=>import("./AddOrEdit-5ARcXlrb.js"),__vite__mapDeps([20,1,2,21,4,7])))},{to:"/users/add",component:r(()=>o(()=>import("./AddOrEdit-C0uxyP74.js"),__vite__mapDeps([22,1,2,23,7,9])))},{to:"/users/edit/:id",component:r(()=>o(()=>import("./AddOrEdit-C0uxyP74.js"),__vite__mapDeps([22,1,2,23,7,9])))},{to:"/metas/add",component:r(()=>o(()=>import("./AddOrEdit-CE9Xwdaq.js"),__vite__mapDeps([24,1,2,23,7])))},{to:"/metas/edit/:id",component:r(()=>o(()=>import("./AddOrEdit-CE9Xwdaq.js"),__vite__mapDeps([24,1,2,23,7])))},{to:"/2fa",component:r(()=>o(()=>import("./2fa-BJVVkm9P.js"),__vite__mapDeps([25,1,2])))},{to:"/messenger",component:r(()=>o(()=>import("./Messenger-DcNuVQAK.js"),__vite__mapDeps([26,1,2])))}],Ee=t=>(re(t.title),e(f,{h:"$full",get children(){return e(g,{get children(){return t.title}})}})),V=(t,n=[])=>(t.forEach(a=>{a.children?V(a.children,n):n.push({to:ee(a.to,"/@manage"),component:a.component||(()=>e(Ee,{get title(){return a.title},get to(){return a.to||"empty"}}))})}),n),we=V(b).concat(be),De=()=>{const t=d();return oe(()=>t("manage.title")),e(i,{css:{"--hope-colors-background":"var(--hope-colors-loContrast)"},bgColor:"$background",w:"$full",get children(){return[e($e,{}),e(p,{w:"$full",h:"calc(100vh - 64px)",get children(){return[e(i,{display:{"@initial":"none","@sm":"block"},w:"$56",h:"$full",shadow:"$md",get bgColor(){return P("$background","$neutral2")()},overflowY:"auto",get children(){return[e($,{items:b}),e(f,{get children(){return e(l,{spacing:"$4",p:"$2",color:"$neutral11",get children(){return[e(O,{}),e(L,{})]}})}})]}}),e(i,{w:{"@initial":"$full","@sm":"calc(100% - 14rem)"},p:"$4",overflowY:"auto",get children(){return e(te,{get children(){return e(D,{each:we,children:n=>e(ne,{get path(){return n.to},get component(){return n.component}})})}})}})]}})]}})};export{De as default};

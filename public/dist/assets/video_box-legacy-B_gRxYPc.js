System.register(["./index-legacy-VniDFTuT.js","./icon-legacy-DffONu1z.js","./artplayer-legacy-0yEpccra.js"],function(e,r){"use strict";var t,n,a,l,o,i,c,s,m,u,p,d,g,h,y,f,$,S,w,b,x,_,v,O;return{setters:[e=>{t=e.u,n=e.a0,a=e.P,l=e.K,o=e.dE,i=e.g,c=e.o,s=e.W,m=e.ac,u=e.bk,p=e.bI,d=e.y,g=e.bU,h=e.F,y=e.aC,f=e.ae,$=e.as,S=e.cq,w=e.ai,b=e.au,x=e.dF,_=e.X},e=>{v=e.O},e=>{O=e.A}],execute:function(){O.PLAYBACK_RATE=[.5,.75,1,1.25,1.5,2,3,4];const r=e("p",[{icon:"iina",name:"IINA",scheme:"iina://weblink?url=$edurl",platforms:["MacOS"]},{icon:"potplayer",name:"PotPlayer",scheme:"potplayer://$durl",platforms:["Windows"]},{icon:"vlc",name:"VLC",scheme:"vlc://$durl",platforms:["Windows","MacOS","Linux","Android","iOS"]},{icon:"nplayer",name:"nPlayer",scheme:"nplayer-$durl",platforms:["Android","iOS"]},{icon:"omniplayer",name:"OmniPlayer",scheme:"omniplayer://weblink?url=$durl",platforms:["MacOS"]},{icon:"figplayer",name:"Fig Player",scheme:"figplayer://weblink?url=$durl",platforms:["MacOS"]},{icon:"infuse",name:"Infuse",scheme:"infuse://x-callback-url/play?url=$durl",platforms:["MacOS","iOS"]},{icon:"fileball",name:"Fileball",scheme:"filebox://play?url=$durl",platforms:["MacOS","iOS"]},{icon:"mxplayer",name:"MX Player",scheme:"intent:$durl#Intent;package=com.mxtech.videoplayer.ad;S.title=$name;end",platforms:["Android"]},{icon:"mxplayer-pro",name:"MX Player Pro",scheme:"intent:$durl#Intent;package=com.mxtech.videoplayer.pro;S.title=$name;end",platforms:["Android"]},{icon:"iPlay",name:"iPlay",scheme:"iplay://play/any?type=url&url=$bdurl",platforms:["iOS"]},{icon:"mpv",name:"mpv",scheme:"mpv://$edurl",platforms:["Windows","MacOS","Linux","Android"]}]);e("A",e=>{const{$container:r,$video:t}=e.template,n=r.parentElement;e.on("ready",()=>{n.style.maxHeight=`calc(100vh - ${n.offsetTop}px - 1.75rem)`,n.style.minHeight="320px",e.autoHeight()}),e.on("resize",()=>{e.autoHeight()}),e.on("error",()=>{t.style.height||(r.style.height="60vh",t.style.height="100%")})}),e("V",e=>{const{replace:O}=t(),{currentObjLink:A}=n();let k=a.objs.filter(e=>e.type===v.VIDEO);0===k.length&&(k=[a.obj]);const I=d();let P=localStorage.getItem("video_auto_next");P||(P="true"),e.onAutoNextChange("true"===P);const[C,j]=l("true"===localStorage.getItem("video_show_all_players")),M=o(),L=i(()=>C()||"Unknown"===M?r:r.filter(e=>e.platforms.includes(M)));return c(_,{w:"$full",spacing:"$2",get children(){return[s(()=>e.children),c(m,{spacing:"$2",w:"$full",get children(){return[c(u,{onChange:e=>{O(e)},get value(){return a.obj.name},get options(){return k.map(e=>({value:e.name}))}}),c(p,{css:{whiteSpace:"nowrap"},defaultChecked:"true"===P,onChange:r=>{e.onAutoNextChange(r.currentTarget.checked),localStorage.setItem("video_auto_next",r.currentTarget.checked.toString())},get children(){return I("home.preview.auto_next")}})]}}),c(g,{wrap:"wrap",gap:"$1",justifyContent:"center",alignItems:"center",get children(){return[c(h,{get each(){return L()},children:e=>c(y,{placement:"top",withArrow:!0,get label(){return e.name},get children(){return c(f,{get href(){return S(e.scheme,{raw_url:a.raw_url,name:a.obj.name,d_url:A(!0)})},get children(){return c($,{m:"0 auto",boxSize:"$8",get src(){return`${window.__dynamic_base__}/images/${e.icon}.webp`}})}})}})}),c(w,{"aria-label":"Show all players",variant:"ghost",onClick:()=>{const e=!C();j(e),localStorage.setItem("video_show_all_players",e.toString())},get icon(){return c(b,{as:x,boxSize:"$6",color:"accent.500",get transform(){return C()?"rotate(180deg)":"none"},transition:"transform 0.2s"})}})]}})]}})})}}});

System.register(["./index-legacy-VniDFTuT.js","./icon-legacy-DffONu1z.js","./index-legacy-B-ZTtTkV.js","./browser-legacy-BqmDl2CN.js","./index-legacy-BbIbJMhB.js"],function(e,r){"use strict";var n,t,o,i,a,c,l,p,s,u,d,m,g,h,v,y,w,f,j,b,_,k,x,$,O,S,T,E,C,P,z,D,M,I,V,A,L,F,X,Q,R,U,W,B,q,G,H,K,Y,Z,J,N,ee,re,ne;return{setters:[e=>{n=e.o,t=e.as,o=e.P,i=e.au,a=e.am,c=e.X,l=e.bV,p=e.V,s=e.W,u=e.cl,d=e.cw,m=e.g,g=e.cx,h=e.a0,v=e.ar,y=e.ah,w=e.aM,f=e.y,j=e.an,b=e.F,_=e.ao,k=e.cq,x=e.S,$=e.aE,O=e.K,S=e.ac,T=e.cy,E=e.cz,C=e.ai,P=e.cA,z=e.cB,D=e.cC,M=e.cD,I=e.cv,V=e.D,A=e.cE,L=e.u,F=e.a5,X=e.T,Q=e.cF,R=e.Y,U=e.aD,W=e.af,B=e.ag,q=e.cp,G=e.cG,H=e.bk,K=e.L,Y=e.aq,Z=e.Q},e=>{J=e.g,N=e.O},e=>{ee=e.c},e=>{re=e.Q},e=>{ne=e.p}],execute:function(){const te=e("F",e=>n(c,{class:"fileinfo",py:"$6",spacing:"$6",get children(){return[n(t,{boxSize:"$20",get fallback(){return n(i,{get color(){return a()},boxSize:"$20",get as(){return J(o.obj)}})},get src(){return o.obj.thumb}}),n(c,{spacing:"$2",get children(){return[n(l,{size:"lg",css:{wordBreak:"break-all"},get children(){return o.obj.name}}),n(p,{color:"$neutral10",size:"sm",get children(){return[s(()=>u(o.obj.size))," Â· ",s(()=>d(o.obj.modified))]}})]}}),n(c,{spacing:"$2",get children(){return e.children}})]}})),oe=()=>{const e=f(),r=m(()=>g(o.obj.name)),{currentObjLink:t}=h();return n(x,{get when(){return r().length},get children(){return n(v,{get children(){return[n(y,{as:w,colorScheme:"success",get rightIcon(){return n(i,{as:ee})},get children(){return e("home.preview.open_with")}}),n(j,{get children(){return n(b,{get each(){return r()},children:e=>n(_,{as:"a",target:"_blank",get href(){return k(e.value,{raw_url:o.raw_url,name:o.obj.name,d_url:t(!0)})},get children(){return e.key}})})}})]}})}})},ie=e=>{const r=f(),{copyCurrentRawLink:i}=$(),[a,c]=O("");re.toDataURL(o.raw_url,{type:"image/jpeg",scale:2}).then(e=>c(e));const[l,p]=O(!1),[s,u]=O(!1);return n(te,{get children(){return[n(S,{spacing:"$2",get children(){return[n(w,{colorScheme:"accent",onClick:()=>i(!0),get children(){return r("home.toolbar.copy_link")}}),n(w,{as:"a",get href(){return o.raw_url},target:"_blank",get children(){return r("home.preview.download")}}),n(T,{get opened(){return l()||s()},motionPreset:"none",get children(){return[n(E,{as:C,get icon(){return n(P,{})},"aria-label":"QRCode",colorScheme:"success",onClick:()=>{p(!l())},onMouseOver:()=>u(!0),onMouseOut:()=>u(!1)}),n(z,{width:"fit-content",get children(){return[n(D,{}),n(M,{get children(){return n(t,{maxWidth:"300px",get src(){return a()},alt:"QR Code of download link",objectFit:"cover"})}})]}})]}})]}}),n(x,{get when(){return e.openWith},get children(){return n(oe,{})}})]}})},ae=Object.freeze(Object.defineProperty({__proto__:null,Download:ie,default:ie},Symbol.toStringTag,{value:"Module"})),ce=e=>{const{currentObjLink:r}=h(),t=m(()=>k(e.scheme,{raw_url:o.raw_url,name:o.obj.name,d_url:r(!0),ts:!0}));return n(A,{w:"$full",h:"70vh",get children(){return[n(I.iframe,{w:"$full",h:"$full",get src(){return t()}}),n(i,{pos:"absolute",right:"$2",bottom:"$10","aria-label":"Open in new tab",as:ne,onClick:()=>{window.open(t(),"_blank")},cursor:"pointer",rounded:"$md",get bgColor(){return V()},p:"$1",boxSize:"$7"})]}})},le=[{name:"HTML render",exts:["html"],component:X(()=>R(()=>r.import("./html-legacy-CEpujd81.js"),void 0)),prior:!0},{name:"Aliyun Video Previewer",type:N.VIDEO,provider:/^Aliyundrive(Open)?$/,component:X(()=>R(()=>r.import("./aliyun_video-legacy-DoXCZrzb.js"),void 0)),prior:!0},{name:"Markdown",type:N.TEXT,component:X(()=>R(()=>r.import("./markdown-legacy-rLYAQfWc.js"),void 0)),prior:!0},{name:"Flash",exts:["swf"],component:X(()=>R(()=>r.import("./flash-legacy-DjcwE6Jc.js"),void 0)),prior:!0},{name:"Markdown with word wrap",type:N.TEXT,component:X(()=>R(()=>r.import("./markdown_with_word_wrap-legacy-Dzfz_pJ1.js"),void 0)),prior:!0},{name:"Url Open",exts:["url"],component:X(()=>R(()=>r.import("./url-legacy-DiE4jVCL.js"),void 0)),prior:!0},{name:"Text Editor",type:N.TEXT,exts:["url"],component:X(()=>R(()=>r.import("./text-editor-legacy-CMXuBFGd.js"),void 0)),prior:!0},{name:"Image",type:N.IMAGE,component:X(()=>R(()=>r.import("./image-legacy-bZRBgpqs.js"),void 0)),prior:!0},{name:"Video",type:N.VIDEO,component:X(()=>R(()=>r.import("./video-legacy-zc4PjvJk.js"),void 0)),prior:!0},{name:"Audio",type:N.AUDIO,component:X(()=>R(()=>r.import("./audio-legacy-CDX6m4SJ.js"),void 0)),prior:!0},{name:"Ipa",exts:["ipa","tipa"],component:X(()=>R(()=>r.import("./ipa-legacy-m0FMYVKy.js"),void 0)),prior:!0},{name:"Plist",exts:["plist"],component:X(()=>R(()=>r.import("./plist-legacy-DxDHPot4.js"),void 0)),prior:!0},{name:"HEIC",exts:["heic","heif","avif","vvc","avc","jpeg","jpg"],component:X(()=>R(()=>r.import("./heic-legacy-DcKvxcKz.js"),void 0)),prior:!0},{name:"PDF Preview",exts:["pdf"],component:X(()=>R(()=>r.import("./pdf-legacy-BHaAbOrX.js"),void 0)),prior:!0},{name:"Asciinema",exts:["cast"],component:X(()=>R(()=>r.import("./asciinema-legacy-DCMDp2C1.js"),void 0)),prior:!0},{name:"Video360",type:N.VIDEO,component:X(()=>R(()=>r.import("./video360-legacy-H_DBkJ0O.js"),void 0)),prior:!0},{name:"Archive Preview",exts:e=>{const r=U.findIndex(e=>"read_archives"===e),{isShare:n}=L();return!(!n()&&!W.can(B(),r))&&!(n()&&!F("share_archive_preview"))&&q(e)},component:X(()=>R(()=>r.import("./archive-legacy-NVkdKfqy.js"),void 0)),prior:()=>F("preview_archives_by_default")}],pe=e=>{const{searchParams:r,isShare:t}=L(),o=N[r.type?.toUpperCase()],i=[],a=[];t()&&!F("share_preview")||le.forEach(r=>{var n,c,l;if((!r.provider||r.provider.test(e.provider))&&(r.type===e.type||o&&r.type===o||(c=r.exts,l=e.name,void 0!==c&&("*"===c||("function"==typeof c?c(l):c.includes(G(l).toLowerCase())))))){const e={name:r.name,component:r.component};!t()&&("boolean"==typeof(n=r.prior)?n:n())?i.push(e):a.push(e)}});const c=Q(e.name);i.push(...c.map(e=>{return{name:e.key,component:(r=e.value,()=>n(ce,{scheme:r}))};var r}));const l={name:"Download",component:X(()=>R(()=>Promise.resolve().then(()=>ae),void 0))},p=e.type===N.TEXT&&e.size>=1048576,s=0===i.length&&0===a.length,u=e.size<1048576;if(p)i.unshift(l);else if(s&&u){if(i.push(l),!t()||F("share_preview")){const e=le.filter(e=>["Markdown","Markdown with word wrap","Text Editor"].includes(e.name)).map(e=>({name:e.name,component:e.component}));i.push(...e)}}else i.push(l);return i.concat(a)},se=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const e=m(()=>pe({...o.obj,provider:o.provider})),[r,t]=O(e()[0]);return n(x,{get when(){return e().length>1},get fallback(){return n(ie,{openWith:!0})},get children(){return n(c,{w:"$full",spacing:"$2",get children(){return[n(S,{w:"$full",spacing:"$2",get children(){return[n(H,{alwaysShowBorder:!0,get value(){return r().name},onChange:r=>{t(e().find(e=>e.name===r))},get options(){return e().map(e=>({value:e.name}))}}),n(oe,{})]}}),n(K,{get fallback(){return n(Z,{})},get children(){return n(Y,{get component(){return r().component}})}})]}})}})}},Symbol.toStringTag,{value:"Module"}));e("a",se)}}});

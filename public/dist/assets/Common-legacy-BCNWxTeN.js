System.register(["./index-legacy-BmFN10UP.js","./useTitle-legacy-qyCEHHxL.js","./ResponsiveGrid-legacy-BiG98N-A.js","./index-legacy-D6slpZA2.js"],function(e,t){"use strict";var n,r,g,l,a,u,i,c,s,o,d,h,y,b,p,f,k,m,v,w,C,E,D,R,$,T,A,O,L,I,N,_,x,P,S,Y,j,B,U,H,K,M,Q,V;return{setters:[e=>{n=e.D,r=e.S,g=e.bH,l=e.ae,a=e.o,u=e.aM,i=e.a5,c=e.a6,s=e.I,o=e.bT,d=e.T,h=e.bI,y=e.bK,b=e.bL,p=e.bM,f=e.bN,k=e.bO,m=e.bP,v=e.R,w=e.bQ,C=e.bR,E=e.bS,D=e.aR,R=e.H,$=e.bU,T=e.g,A=e.b9,O=e.bt,L=e.bY,I=e.d1,N=e.B,_=e.d2,x=e.Q,P=e.bw,S=e.r,Y=e.au,j=e.K,B=e.d3,U=e.af,H=e.d4},e=>{K=e.b},e=>{M=e.T,Q=e.R},e=>{V=e.b}],execute:function(){var t=(e=>(e[e.PUBLIC=0]="PUBLIC",e[e.PRIVATE=1]="PRIVATE",e[e.READONLY=2]="READONLY",e[e.DEPRECATED=3]="DEPRECATED",e))(t||{});const z=e=>{const T=a();return n($,{get w(){return e.w??"100%"},display:"flex",flexDirection:"column",get children(){return[n(r,{get when(){return!e.hideLabel},get children(){return n(g,{get for(){return e.key},display:"flex",alignItems:"center",get children(){return[l(()=>T(`settings.${e.key}`)),n(r,{get when(){return e.flag===t.DEPRECATED},get children(){return n(u,{ml:"$2",as:V,boxSize:"$5",color:"$danger9",verticalAlign:"middle",cursor:"pointer",onClick:()=>{e.onDelete?.()}})}})]}})}}),n(i,{get fallback(){return n(D,{get children(){return T("settings_other.unknown_type")}})},get children(){return[n(c,{get when(){return[M.String,M.Number].includes(e.type)},get children(){return n(s,{get type(){return e.type===M.Number?"number":""},get id(){return e.key},get value(){return e.value},onInput:t=>e.onChange?.(t.currentTarget.value),get readOnly(){return e.flag===t.READONLY}})}}),n(c,{get when(){return e.type===M.Bool},get children(){return n(o,{get id(){return e.key},get checked(){return"true"===e.value},onChange:t=>e.onChange?.(t.currentTarget?.checked?"true":"false"),get readOnly(){return e.flag===t.READONLY}})}}),n(c,{get when(){return e.type===M.Text},get children(){return n(d,{get id(){return e.key},get value(){return e.value},onChange:t=>e.onChange?.(t.currentTarget.value),get readOnly(){return e.flag===t.READONLY}})}}),n(c,{get when(){return e.type===M.Select},get children(){return n(h,{get id(){return e.key},get value(){return e.value},onChange:t=>e.onChange?.(t),get readOnly(){return e.flag===t.READONLY},get children(){return[n(y,{get children(){return[n(b,{get children(){return T("global.choose")}}),n(p,{}),n(f,{})]}}),n(k,{get children(){return n(m,{get children(){return n(v,{get each(){return e.options?.split(",")},children:t=>n(w,{value:t,get children(){return[n(C,{get children(){return T(`settings.${e.key}s.${t}`)}}),n(E,{})]}})})}})}})]}})}})]}}),n(R,{get children(){return l(()=>!!e.help)()?T(`settings.${e.key}-tips`):""}})]}})};e("default",e=>{const t=a(),{pathname:r}=T();K(`manage.sidemenu.${r().split("/").pop()}`);const[g,l]=A(()=>O.get(`/admin/setting/list?group=${e.group}`)),[u,i]=L([]),c=async()=>{const e=await l();P(e,i)};c();const[s,o]=A(()=>O.post("/admin/setting/save",I(u))),[d,h]=A(()=>O.post(`/admin/setting/default?group=${e.group}`)),[y,b]=N(!1);return n(U,{w:"$full",alignItems:"start",spacing:"$2",get children(){return[n(Q,{get children(){return n(_,{each:u,children:e=>n(z,x(e,{onChange:t=>{i(t=>e().key===t.key,"value",t)},onDelete:async()=>{b(!0);const n=await O.post(`/admin/setting/delete?key=${e().key}`);b(!1),P(n,()=>{S.success(t("global.delete_success")),c()})}}))})}}),n(Y,{spacing:"$2",get children(){return[n(j,{colorScheme:"accent",onClick:c,get loading(){return g()||y()||d()},get children(){return t("global.refresh")}}),n(j,{get loading(){return s()},onClick:async()=>{const e=await o();P(e,async()=>{S.success(t("global.save_success")),B(await O.get("/public/settings"),H)})},get children(){return t("global.save")}}),n(j,{colorScheme:"warning",get loading(){return g()||y()||d()},onClick:async()=>{const e=await h();P(e,e=>{S.info(t("manage.load_default_setting_success")),i(e)})},get children(){return t("manage.load_default_setting")}})]}})]}})})}}});
